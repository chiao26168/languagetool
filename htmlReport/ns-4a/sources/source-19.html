


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > TokenAgreementVerbNounExceptionHelper</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.languagetool.rules.uk</a>
</div>

<h1>Coverage Summary for Class: TokenAgreementVerbNounExceptionHelper (org.languagetool.rules.uk)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">TokenAgreementVerbNounExceptionHelper</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/386)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/313)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package org.languagetool.rules.uk;
&nbsp;
&nbsp;import java.util.Arrays;
&nbsp;import java.util.Collections;
&nbsp;import java.util.List;
&nbsp;import java.util.Set;
&nbsp;import java.util.regex.Pattern;
&nbsp;import java.util.stream.Collectors;
&nbsp;
&nbsp;import org.languagetool.AnalyzedToken;
&nbsp;import org.languagetool.AnalyzedTokenReadings;
&nbsp;import org.languagetool.rules.uk.LemmaHelper.Dir;
&nbsp;import org.languagetool.rules.uk.TokenAgreementVerbNounRule.State;
&nbsp;import org.languagetool.rules.uk.VerbInflectionHelper.Inflection;
&nbsp;import org.languagetool.tagging.uk.PosTagHelper;
&nbsp;import org.slf4j.Logger;
&nbsp;import org.slf4j.LoggerFactory;
&nbsp;
&nbsp;/**
&nbsp; * @since 5.9
&nbsp; */
&nbsp;public final class TokenAgreementVerbNounExceptionHelper {
&nbsp;
<b class="nc">&nbsp;  private static final Logger logger = LoggerFactory.getLogger(TokenAgreementVerbNounExceptionHelper.class);</b>
&nbsp;
<b class="nc">&nbsp;  private static final Pattern VCHYTY_PATTERN = Pattern.compile(&quot;.*вч[аи]ти(ся)?&quot;);</b>
<b class="nc">&nbsp;  private static final Pattern ADV_PREDICT_PATTERN = Pattern.compile(&quot;(adv|noninfl:&amp;predic).*&quot;);</b>
&nbsp;
&nbsp;//  private static final Pattern MODALS = Pattern.compile(&quot;було|буде|варто|необхідно|треба|потрібно|муси.*|повин(ен|н[оеаі])||готов(ий|[еаі])&quot;);
&nbsp;//  private static final Pattern MODALS = Pattern.compile(&quot;варто|можна|необхідно|треба|потрібно|муси.+|зму[сш].+|(повин|здат)(ен|н[оеаі]|ий)||готов(ий|[еаі])&quot;);
&nbsp;  
&nbsp;  private TokenAgreementVerbNounExceptionHelper() {
&nbsp;  }
&nbsp;
&nbsp;  public static boolean isException(AnalyzedTokenReadings[] tokens, int verbPos, int nounAdjPos, 
&nbsp;                                    State state, List&lt;VerbInflectionHelper.Inflection&gt; verbInflections, 
&nbsp;                                    List&lt;VerbInflectionHelper.Inflection&gt; nounAdjInflections,
&nbsp;                                    List&lt;AnalyzedToken&gt; verbTokenReadings, 
&nbsp;                                    List&lt;AnalyzedToken&gt; nounTokenReadings) {
&nbsp;    
&nbsp;    // серйозно каже Вадо.
&nbsp;//    if( LemmaHelper.isCapitalized(tokens[nounAdjPos].getCleanToken())
&nbsp;//        &amp;&amp; ! PosTagHelper.hasPosTagPart(tokens[nounAdjPos], &quot;prop&quot;) ) {
&nbsp;//      logException();
&nbsp;//      return true;
&nbsp;//    }
&nbsp;
&nbsp;    // закінчилося 18-го ввечері
&nbsp;    // наслухатися дорогою
<b class="nc">&nbsp;    if( tokens[nounAdjPos].getCleanToken().matches(&quot;[0-9]+-.+|дорогою|толком|дивом|чверть|третину|половину|святая&quot;) ) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // сміялася всю дорого
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length-1</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;adj:f:v_zna.*&quot;))</b>
<b class="nc">&nbsp;        &amp;&amp; tokens[nounAdjPos+1].getCleanToken().equals(&quot;дорогу&quot;) ) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;    
&nbsp;    // запропоновано відділом
<b class="nc">&nbsp;    if( PosTagHelper.hasPosTagPart(tokens[verbPos], &quot;impers&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;.*v_oru.*&quot;)) ) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // звалося Подєбради
<b class="nc">&nbsp;    if( LemmaHelper.hasLemma(tokens[verbPos], Arrays.asList(&quot;зватися&quot;, &quot;називатися&quot;))</b>
<b class="nc">&nbsp;        &amp;&amp; Character.isUpperCase(tokens[nounAdjPos].getCleanToken().charAt(0)) ) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // тривав довгих десять раундів.
<b class="nc">&nbsp;    if( LemmaHelper.hasLemma(tokens[verbPos], Arrays.asList(&quot;тривати&quot;, &quot;протривати&quot;, &quot;йти&quot;, &quot;іти&quot;, &quot;ходити&quot;, &quot;їхати&quot;))</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;(adj|numr|noun:inanim).*v_zna.*&quot;)) ) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;    
&nbsp;    // світ за очі
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 2 </b>
<b class="nc">&nbsp;        &amp;&amp; tokens[nounAdjPos].getCleanToken().equals(&quot;світ&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; LemmaHelper.hasLemma(tokens[nounAdjPos+1], &quot;за&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; tokens[nounAdjPos+2].getCleanToken().equals(&quot;очі&quot;) ) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // ні сіло ні впало
<b class="nc">&nbsp;    if( verbPos &gt; 3 </b>
<b class="nc">&nbsp;        &amp;&amp; tokens[verbPos].getCleanToken().equalsIgnoreCase(&quot;впало&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; &quot;ні&quot;.equals(tokens[verbPos-1].getCleanToken()) ) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;    // звичайна, якщо не сказати слабка, людина
<b class="nc">&nbsp;    if( verbPos &gt; 2</b>
<b class="nc">&nbsp;        &amp;&amp; tokens[verbPos].getCleanToken().equalsIgnoreCase(&quot;сказати&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; &quot;не&quot;.equals(tokens[verbPos-1].getCleanToken())</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[nounAdjPos], &quot;v_naz&quot;) ) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;    
&nbsp;    
&nbsp;    // потребувала мільйон
<b class="nc">&nbsp;    if( state.cases.contains(&quot;v_rod&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;numr.*?v_zna.*|noun.*v_zna.*numr.*&quot;)) ) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;    
&nbsp;    // виростили сортів 10
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 1</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;(noun|adj):.*:v_rod.*&quot;)) </b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos+1], Pattern.compile(&quot;num.*&quot;))</b>
&nbsp;        ) {
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;    
&nbsp;    // виростили сортів — 10
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 2</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;(noun|adj):.*:v_rod.*&quot;)) </b>
<b class="nc">&nbsp;        &amp;&amp; LemmaHelper.isDash(tokens[nounAdjPos+1])</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos+2], Pattern.compile(&quot;num.*&quot;))</b>
&nbsp;        ) {
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;    
&nbsp;    // одержав хабарів на суму 10
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 2</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;(noun:inanim|adj):.:v_rod.*&quot;)) ) {</b>
<b class="nc">&nbsp;      int v2pos = LemmaHelper.tokenSearch(tokens, state.nounPos+1, (Pattern)null, Pattern.compile(&quot;на&quot;), Pattern.compile(&quot;[a-z].*&quot;), Dir.FORWARD);</b>
<b class="nc">&nbsp;      if( v2pos &gt;= 0 &amp;&amp; v2pos &lt;= state.nounPos+5 &amp;&amp; v2pos &lt; tokens.length - 1 ) {</b>
<b class="nc">&nbsp;        logException();</b>
<b class="nc">&nbsp;        return true;</b>
&nbsp;      }
&nbsp;    }
&nbsp;
&nbsp;    // залучити інвестицій на 20—30
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 2 </b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;noun.*v_(rod|zna).*&quot;))</b>
<b class="nc">&nbsp;        &amp;&amp; tokens[nounAdjPos+1].getCleanToken().matches(&quot;на|з|із|зо|під&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos+2], Pattern.compile(&quot;number|numr.*v_zna.*&quot;)) ) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // споживає газу менше
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 1</b>
<b class="nc">&nbsp;        &amp;&amp;  PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;noun:.*v_rod.*&quot;)) </b>
<b class="nc">&nbsp;        &amp;&amp; tokens[nounAdjPos+1].getCleanToken().matches(&quot;менше|більше&quot;)</b>
&nbsp;        ) {
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // як боротися підприємцям
<b class="nc">&nbsp;    if( verbPos &gt; 1 </b>
<b class="nc">&nbsp;        &amp;&amp; LemmaHelper.hasLemma(tokens[verbPos-1], Arrays.asList(&quot;як&quot;, &quot;куди&quot;, &quot;де&quot;, &quot;що&quot;, &quot;чого&quot;, &quot;чи&quot;))</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[verbPos], &quot;:inf&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;(adj|noun).*v_dav.*&quot;))) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;    // Квапитися їй нікуди
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length -1</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[verbPos], &quot;:inf&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;(adj|noun).*v_dav.*&quot;))</b>
<b class="nc">&nbsp;        &amp;&amp; tokens[nounAdjPos+1].getCleanToken().toLowerCase().matches(&quot;ніколи|нікуди|нічого|нічим|ніде|немає?|не&quot;)</b>
&nbsp;            ) {
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // нічим пишатися селянам
<b class="nc">&nbsp;    if( verbPos &gt; 1</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[verbPos], &quot;:inf&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;(adj|noun).*v_dav.*&quot;))</b>
<b class="nc">&nbsp;        &amp;&amp; tokens[verbPos-1].getCleanToken().toLowerCase().matches(&quot;ніколи|нікуди|нічого|нічим|немає?|не&quot;)</b>
&nbsp;            ) {
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // розсміявся брату в обличчя
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 2</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;.*v_dav.*&quot;))</b>
<b class="nc">&nbsp;        &amp;&amp; tokens[nounAdjPos+1].getCleanToken().toLowerCase().matches(&quot;в|у|на|від|під|по|до|і?з|з[іо]|над|з-під|перед|попід|поза|напереріз&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos+2], Pattern.compile(&quot;(noun|adj).*&quot;))) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // закружляли мені десь у тьмі
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 2</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;noun.*?v_dav:&amp;pron:(pers|refl).*&quot;))) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 1</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;.*v_dav.*&quot;))</b>
<b class="nc">&nbsp;        &amp;&amp; tokens[nounAdjPos+1].getCleanToken().toLowerCase().matches(&quot;назустріч|навперейми|навздогін|услід&quot;)) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // сміятися гріх
<b class="nc">&nbsp;    if( PosTagHelper.hasPosTagPart(tokens[verbPos], &quot;:inf&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; tokens[nounAdjPos].getCleanToken().equalsIgnoreCase(&quot;гріх&quot;) ) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // тренувалися годину
&nbsp;    // працювала рік-два
<b class="nc">&nbsp;    if( LemmaHelper.hasLemmaBase(tokens[nounAdjPos], LemmaHelper.TIME_PLUS_LEMMAS, Pattern.compile(&quot;noun:inanim:.:v_(zna|rod|oru).*&quot;))) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // відбудеться наступного дня
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 1 </b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;(adj|numr).*v_(rod|zna|oru).*|noun.*v_(rod|zna|oru).*numr.*&quot;))</b>
<b class="nc">&nbsp;        &amp;&amp; LemmaHelper.hasLemma(tokens[nounAdjPos+1], LemmaHelper.TIME_PLUS_LEMMAS, Pattern.compile(&quot;noun:inanim:.:v_(rod|zna|oru).*&quot;))) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // відбувається кожні два роки
&nbsp;    // розпочнеться того ж дня
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 2 </b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;(adj|numr).*v_(rod|zna|oru).*&quot;))</b>
<b class="nc">&nbsp;        &amp;&amp; (tokens[nounAdjPos+1].getCleanToken().matches(&quot;же?&quot;)</b>
<b class="nc">&nbsp;         || PosTagHelper.hasPosTag(tokens[nounAdjPos+1], Pattern.compile(&quot;(adj|numr).*v_(rod|zna|oru).*|number|noun.*v_(rod|zna|oru).*numr.*&quot;)))</b>
<b class="nc">&nbsp;        &amp;&amp; LemmaHelper.hasLemma(tokens[nounAdjPos+2], LemmaHelper.TIME_PLUS_LEMMAS, Pattern.compile(&quot;noun:inanim:.:v_(rod|zna|oru).*&quot;))) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // йде три з половиною години
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 3 </b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;numr.*v_zna.*&quot;))</b>
<b class="nc">&nbsp;        &amp;&amp; tokens[nounAdjPos+1].getCleanToken().matches(&quot;з&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; tokens[nounAdjPos+2].getCleanToken().matches(&quot;половиною&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; LemmaHelper.hasLemma(tokens[nounAdjPos+3], LemmaHelper.TIME_PLUS_LEMMAS, Pattern.compile(&quot;noun:inanim:.:v_(rod|zna).*&quot;))) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // не бачити вам цирку
<b class="nc">&nbsp;    if( verbPos &gt; 1 &amp;&amp; nounAdjPos &lt; tokens.length - 1</b>
<b class="nc">&nbsp;        &amp;&amp; tokens[verbPos-1].getCleanToken().toLowerCase().equals(&quot;не&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[verbPos], &quot;:inf&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[nounAdjPos], &quot;v_dav&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[nounAdjPos+1], &quot;v_rod&quot;) ) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // слід проходити людям
<b class="nc">&nbsp;    if( verbPos &gt; 1</b>
<b class="nc">&nbsp;        &amp;&amp; tokens[verbPos-1].getCleanToken().toLowerCase().equals(&quot;слід&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[verbPos], &quot;:inf&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[nounAdjPos], &quot;v_dav&quot;)) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // меншає людей
<b class="nc">&nbsp;    if( LemmaHelper.hasLemma(state.verbAnalyzedTokenReadings, Pattern.compile(&quot;(по)?меншати|(по)?більшати|стати&quot;), Pattern.compile(&quot;verb.*:[sn](:.*|$)&quot;))</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[state.nounPos], Pattern.compile(&quot;(noun|adj).*v_rod.*&quot;)) ) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // став жовтого кольору
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 1</b>
<b class="nc">&nbsp;        &amp;&amp; tokens[nounAdjPos + 1].getCleanToken().toLowerCase().equals(&quot;кольору&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagStart(tokens[nounAdjPos], &quot;adj:m:v_rod&quot;)) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // дай Боже
<b class="nc">&nbsp;    if( PosTagHelper.hasPosTagPart(tokens[nounAdjPos], &quot;v_kly&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[verbPos], &quot;impr&quot;)) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // повторила прем’єр-міністр у телезверненні
<b class="nc">&nbsp;    if( PosTagHelper.hasPosTagPart(nounTokenReadings, &quot;noun:anim:m:v_naz&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(verbTokenReadings, Pattern.compile(&quot;verb.*:f(:.*|$)&quot;))</b>
<b class="nc">&nbsp;        &amp;&amp; TokenAgreementNounVerbExceptionHelper.hasMascFemLemma(nounTokenReadings) ) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // не існувало конкуренції
&nbsp;    // не було мізків
&nbsp;    // стане сили
&nbsp;    // TODO: все залежить нас
<b class="nc">&nbsp;    if( PosTagHelper.hasPosTagPart(tokens[state.nounPos], &quot;v_rod&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(state.verbTokenReadings, Pattern.compile(&quot;verb.*?(futr|past):(s:3.*|n($|:.+))&quot;))) {</b>
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // небагато надходить книжок
&nbsp;    // трохи зменшується матерії
<b class="nc">&nbsp;    if( state.verbPos &gt; 1</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[state.nounPos], &quot;v_rod&quot;) ) {</b>
&nbsp;
<b class="nc">&nbsp;      Pattern vRodDriverPattern = Pattern.compile(&quot;не|(на)?с[кт]ільки|(най)?більше|(най)?менше|(не|за)?багато|(не|чи|за)?мало|трохи|годі|неможливо|а?ніж|вдосталь&quot;, Pattern.CASE_INSENSITIVE|Pattern.UNICODE_CASE);</b>
<b class="nc">&nbsp;      int xpos = LemmaHelper.tokenSearch(tokens, state.verbPos-1, (String)null, vRodDriverPattern, Pattern.compile(&quot;[a-z].*&quot;), Dir.REVERSE);</b>
<b class="nc">&nbsp;      if( xpos &gt;= 0 &amp;&amp; xpos &gt;= state.verbPos-4 ) {</b>
<b class="nc">&nbsp;          logException();</b>
<b class="nc">&nbsp;          return true;</b>
&nbsp;      }
&nbsp;    }
&nbsp;
&nbsp;    
&nbsp;    // V + N + V:INF
&nbsp;    // вміємо цим зазвичай користуватися
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 1</b>
<b class="nc">&nbsp;        &amp;&amp; CaseGovernmentHelper.hasCaseGovernment(state.verbAnalyzedTokenReadings, PosTagHelper.VERB_PATTERN, &quot;v_inf&quot;) ) {</b>
<b class="nc">&nbsp;      int v2pos = LemmaHelper.tokenSearch(tokens, state.nounPos+1, PosTagHelper.VERB_PATTERN, null, Pattern.compile(&quot;[a-z].*&quot;), Dir.FORWARD);</b>
<b class="nc">&nbsp;      if( v2pos &gt;= 0 &amp;&amp; v2pos &lt;= state.nounPos+5</b>
<b class="nc">&nbsp;          &amp;&amp; agrees(tokens[v2pos], state.nounAdjNazInflections, state.nounAdjIndirTokenReadings) </b>
&nbsp;          ) {
<b class="nc">&nbsp;        logException();</b>
<b class="nc">&nbsp;        return true;</b>
&nbsp;      }
&nbsp;    }
&nbsp;    
&nbsp;    // V:INF + N + V
&nbsp;    // працювати ці люди не вміють
&nbsp;    // робити прогнозів не буду
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 1</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[verbPos], &quot;:inf&quot;) ) {</b>
<b class="nc">&nbsp;      int v2pos = LemmaHelper.tokenSearch(tokens, state.nounPos+1, PosTagHelper.VERB_PATTERN, null, Pattern.compile(&quot;[a-z].*&quot;), Dir.FORWARD);</b>
<b class="nc">&nbsp;      if( v2pos &gt;= 0 &amp;&amp; v2pos &lt;= state.nounPos+4</b>
<b class="nc">&nbsp;          &amp;&amp; CaseGovernmentHelper.hasCaseGovernment(tokens[v2pos], PosTagHelper.VERB_PATTERN, &quot;v_inf&quot;) ) { </b>
<b class="nc">&nbsp;        if( agrees(tokens[v2pos], state.nounAdjNazInflections, state.nounAdjIndirTokenReadings) ) { </b>
<b class="nc">&nbsp;          logException();</b>
<b class="nc">&nbsp;          return true;</b>
&nbsp;        }
<b class="nc">&nbsp;        if( tokens[v2pos-1].getCleanToken().equals(&quot;не&quot;) ) { </b>
<b class="nc">&nbsp;          logException();</b>
<b class="nc">&nbsp;          return true;</b>
&nbsp;        }
&nbsp;      }
&nbsp;    }
&nbsp;
&nbsp;    // V:INF + N + ADV
&nbsp;    // розібратися людям важко
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 1</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[verbPos], &quot;:inf&quot;) ) {</b>
&nbsp;      
<b class="nc">&nbsp;      if( ! LemmaHelper.hasLemma(tokens[verbPos], VCHYTY_PATTERN) ) {</b>
<b class="nc">&nbsp;        int v2pos = LemmaHelper.tokenSearch(tokens, state.nounPos+1, ADV_PREDICT_PATTERN, null, Pattern.compile(&quot;[a-z].*&quot;), Dir.FORWARD);</b>
<b class="nc">&nbsp;        while( v2pos &gt;= 0 &amp;&amp; v2pos &lt;= state.nounPos+4 ) {</b>
<b class="nc">&nbsp;          Set&lt;String&gt; cases = CaseGovernmentHelper.getCaseGovernments(tokens[v2pos], ADV_PREDICT_PATTERN);</b>
<b class="nc">&nbsp;          if( TokenAgreementPrepNounRule.hasVidmPosTag(cases, state.nounAdjIndirTokenReadings) ) {</b>
<b class="nc">&nbsp;            logException();</b>
<b class="nc">&nbsp;            return true;</b>
&nbsp;          }
<b class="nc">&nbsp;          v2pos = LemmaHelper.tokenSearch(tokens, v2pos+1, ADV_PREDICT_PATTERN, null, Pattern.compile(&quot;[a-z].*&quot;), Dir.FORWARD);</b>
<b class="nc">&nbsp;        }</b>
&nbsp;      }
&nbsp;    }
&nbsp;
&nbsp;    // V:INF + N + ADJ
&nbsp;    // працювати студенти готові
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 1</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[verbPos], &quot;:inf&quot;) ) {</b>
<b class="nc">&nbsp;      int v2pos = LemmaHelper.tokenSearch(tokens, state.nounPos+1, PosTagHelper.ADJ_V_NAZ_PATTERN, null, Pattern.compile(&quot;[a-z].*&quot;), Dir.FORWARD);</b>
<b class="nc">&nbsp;      if( v2pos &gt;= 0 &amp;&amp; v2pos &lt;= state.nounPos+3 ) {</b>
<b class="nc">&nbsp;        if( CaseGovernmentHelper.hasCaseGovernment(tokens[v2pos], PosTagHelper.ADJ_V_NAZ_PATTERN, &quot;v_inf&quot;) ) {</b>
<b class="nc">&nbsp;          String genders1 = PosTagHelper.getGenders(tokens[nounAdjPos], &quot;(noun|adj).*v_naz.*&quot;);</b>
<b class="nc">&nbsp;          String genders2 = PosTagHelper.getGenders(tokens[v2pos], PosTagHelper.ADJ_V_NAZ_PATTERN);</b>
<b class="nc">&nbsp;          if( genders1.matches(&quot;.*[&quot;+genders2+&quot;].*&quot;) ) {</b>
<b class="nc">&nbsp;            logException();</b>
<b class="nc">&nbsp;            return true;</b>
&nbsp;          }
&nbsp;        }
&nbsp;      }
&nbsp;    }
&nbsp;
&nbsp;    // V:INF + ADJ
&nbsp;    // працювати неспроможні
<b class="nc">&nbsp;    if( PosTagHelper.hasPosTagPart(tokens[verbPos], &quot;:inf&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], PosTagHelper.ADJ_V_NAZ_PATTERN) ) {</b>
<b class="nc">&nbsp;      if( CaseGovernmentHelper.hasCaseGovernment(tokens[nounAdjPos], PosTagHelper.ADJ_V_NAZ_PATTERN, &quot;v_inf&quot;) ) {</b>
<b class="nc">&nbsp;        logException();</b>
<b class="nc">&nbsp;        return true;</b>
&nbsp;      }
&nbsp;    }
&nbsp;
&nbsp;    // V + V:INF + N
&nbsp;    // дають (змогу з комфортом) мандрувати чотирьом пасажирам
&nbsp;    // заважають розвиватися погане управління, війна
<b class="nc">&nbsp;    if( verbPos &gt; 1</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[verbPos], &quot;:inf&quot;)</b>
&nbsp;        ) {
<b class="nc">&nbsp;      int v2pos = LemmaHelper.tokenSearch(tokens, state.verbPos-1, PosTagHelper.VERB_ADVP_PATTERN, null, Pattern.compile(&quot;[a-z].*&quot;), Dir.REVERSE);</b>
<b class="nc">&nbsp;      if( v2pos &gt;= 0 &amp;&amp; v2pos &gt;= state.verbPos-5</b>
<b class="nc">&nbsp;          &amp;&amp; (CaseGovernmentHelper.hasCaseGovernment(tokens[v2pos], PosTagHelper.VERB_ADVP_PATTERN, &quot;v_inf&quot;) </b>
<b class="nc">&nbsp;            || tokens[verbPos].getCleanToken().matches(&quot;(по)?їсти&quot;)) </b>
&nbsp;          ) {
<b class="nc">&nbsp;        if( agrees(tokens[v2pos], state.nounAdjNazInflections, state.nounAdjIndirTokenReadings) ) {</b>
<b class="nc">&nbsp;          logException();</b>
<b class="nc">&nbsp;          return true;</b>
&nbsp;        }
<b class="nc">&nbsp;        if( PosTagHelper.hasPosTag(tokens[v2pos], Pattern.compile(&quot;verb.*:p($|:.*)&quot;)) </b>
<b class="nc">&nbsp;            &amp;&amp; PosTagHelper.hasPosTag(tokens[state.nounPos], Pattern.compile(&quot;.*v_naz.*&quot;)) ) {</b>
<b class="nc">&nbsp;          logException();</b>
<b class="nc">&nbsp;          return true;</b>
&nbsp;        }
&nbsp;      }
&nbsp;    }
&nbsp;    
&nbsp;    // ADV + V:INF + N
&nbsp;    // важко розібратися багатьом людям
<b class="nc">&nbsp;    if( verbPos &gt; 1</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[verbPos], &quot;:inf&quot;)</b>
&nbsp;        ) {
<b class="nc">&nbsp;      int v2pos = LemmaHelper.tokenSearch(tokens, state.verbPos-1, ADV_PREDICT_PATTERN, null, Pattern.compile(&quot;[a-z].*&quot;), Dir.REVERSE);</b>
<b class="nc">&nbsp;      while( v2pos &gt;= 0 &amp;&amp; v2pos &gt;= state.verbPos-3 ) {</b>
<b class="nc">&nbsp;        if( PosTagHelper.hasPosTag(tokens[v2pos], Pattern.compile(&quot;noninfl.&amp;predic.*&quot;)) </b>
<b class="nc">&nbsp;            &amp;&amp; PosTagHelper.hasPosTagPart(tokens[state.nounPos], &quot;v_naz&quot;) </b>
&nbsp;           ){
<b class="nc">&nbsp;          logException();</b>
<b class="nc">&nbsp;          return true;</b>
&nbsp;        }
<b class="nc">&nbsp;        Set&lt;String&gt; cases = CaseGovernmentHelper.getCaseGovernments(tokens[v2pos], ADV_PREDICT_PATTERN);</b>
<b class="nc">&nbsp;        if( TokenAgreementPrepNounRule.hasVidmPosTag(cases, state.nounAdjIndirTokenReadings) ) {</b>
<b class="nc">&nbsp;          logException();</b>
<b class="nc">&nbsp;          return true;</b>
&nbsp;        }
<b class="nc">&nbsp;        v2pos = LemmaHelper.tokenSearch(tokens, v2pos-1, ADV_PREDICT_PATTERN, null, Pattern.compile(&quot;[a-z].*&quot;), Dir.REVERSE);</b>
<b class="nc">&nbsp;      }</b>
&nbsp;    }
&nbsp;    
&nbsp;    // ADJ + V:INF + N
&nbsp;    // зацікавлена перейняти угорська сторона
<b class="nc">&nbsp;    if( verbPos &gt; 1</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[verbPos], &quot;:inf&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[nounAdjPos], &quot;v_naz&quot;)</b>
&nbsp;        ) {
<b class="nc">&nbsp;      int v2pos = LemmaHelper.tokenSearch(tokens, state.verbPos-1, PosTagHelper.ADJ_V_NAZ_PATTERN, null, Pattern.compile(&quot;[a-z].*&quot;), Dir.REVERSE);</b>
<b class="nc">&nbsp;      if( v2pos &gt;= 0 &amp;&amp; v2pos &gt;= state.verbPos-3 ) {</b>
<b class="nc">&nbsp;        if( CaseGovernmentHelper.hasCaseGovernment(tokens[v2pos], PosTagHelper.ADJ_V_NAZ_PATTERN, &quot;v_inf&quot;) ) {</b>
<b class="nc">&nbsp;          String genders1 = PosTagHelper.getGenders(tokens[nounAdjPos], &quot;(noun|adj|numr).*v_naz.*&quot;);</b>
<b class="nc">&nbsp;          String genders2 = PosTagHelper.getGenders(tokens[v2pos], PosTagHelper.ADJ_V_NAZ_PATTERN);</b>
<b class="nc">&nbsp;          if( genders1.matches(&quot;.*[&quot;+genders2+&quot;].*&quot;) ) {</b>
<b class="nc">&nbsp;            logException();</b>
<b class="nc">&nbsp;            return true;</b>
&nbsp;          }
&nbsp;        }
&nbsp;      }
&nbsp;    }
&nbsp;    
&nbsp;    // NOUN + V:INF + N
&nbsp;    // гріх зайнятися Генеральній прокуратурі
&nbsp;    // готовність спілкуватися людини
&nbsp;    // небажання вибачатися пов’язане з
<b class="nc">&nbsp;    if( verbPos &gt; 1</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[verbPos], &quot;:inf&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; (PosTagHelper.hasPosTagPart(tokens[nounAdjPos], &quot;v_dav&quot;) || PosTagHelper.hasPosTagPart(tokens[nounAdjPos], &quot;v_rod&quot;)</b>
<b class="nc">&nbsp;            || PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;adj:.:v_naz.*&quot;)))</b>
&nbsp;        ) {
<b class="nc">&nbsp;      int v2pos = LemmaHelper.tokenSearch(tokens, state.verbPos-1, PosTagHelper.NOUN_V_NAZ_PATTERN, null, Pattern.compile(&quot;[a-z].*&quot;), Dir.REVERSE);</b>
<b class="nc">&nbsp;      if( v2pos &gt;= 0 &amp;&amp; v2pos &gt;= state.verbPos-3 ) {</b>
<b class="nc">&nbsp;        if( CaseGovernmentHelper.hasCaseGovernment(tokens[v2pos], PosTagHelper.NOUN_V_NAZ_PATTERN, &quot;v_inf&quot;) ) {</b>
&nbsp;//            &amp;&amp; CaseGovernmentHelper.hasCaseGovernment(tokens[v2pos], PosTagHelper.NOUN_V_NAZ_PATTERN, &quot;v_dav&quot;) ) {
&nbsp;
&nbsp;          // exc: бажання вчитися новому
<b class="nc">&nbsp;          if( PosTagHelper.hasPosTagPart(tokens[nounAdjPos], &quot;v_dav&quot;)</b>
<b class="nc">&nbsp;              &amp;&amp; LemmaHelper.hasLemma(tokens[verbPos], Pattern.compile(&quot;.*вчити(ся)?&quot;)) ) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;          }
&nbsp;          
<b class="nc">&nbsp;          logException();</b>
<b class="nc">&nbsp;          return true;</b>
&nbsp;
&nbsp;//          if( PosTagHelper.hasPosTagStart(tokens[nounAdjPos], &quot;noun&quot;) ) {
&nbsp;//            logException();
&nbsp;//            return true;
&nbsp;//          }
&nbsp;//          if( PosTagHelper.hasPosTagStart(tokens[nounAdjPos], &quot;adj&quot;) ) {
&nbsp;//            List&lt;InflectionHelper.Inflection&gt; adjInflections = InflectionHelper.getAdjInflections(tokens[nounAdjPos].getReadings());
&nbsp;//            List&lt;InflectionHelper.Inflection&gt; nounInflections = InflectionHelper.getNounInflections(tokens[nounAdjPos].getReadings());
&nbsp;//            if( ! Collections.disjoint(adjInflections, nounInflections) ) {
&nbsp;//              logException();
&nbsp;//              return true;
&nbsp;//            }
&nbsp;//          }
&nbsp;        }
&nbsp;      }
&nbsp;    }
&nbsp;    
&nbsp;    // V:INF + V + N
&nbsp;    // платити доведеться повну вартість
<b class="nc">&nbsp;    if( verbPos &gt; 1</b>
<b class="nc">&nbsp;        &amp;&amp; CaseGovernmentHelper.hasCaseGovernment(state.verbAnalyzedTokenReadings, PosTagHelper.VERB_PATTERN, &quot;v_inf&quot;) ) {</b>
<b class="nc">&nbsp;      int v2pos = LemmaHelper.tokenSearch(tokens, state.verbPos-1, PosTagHelper.VERB_PATTERN, null, Pattern.compile(&quot;[a-z].*&quot;), Dir.REVERSE);</b>
<b class="nc">&nbsp;      if( v2pos &gt;= 0 &amp;&amp; v2pos &gt;= state.verbPos-3</b>
<b class="nc">&nbsp;          &amp;&amp; PosTagHelper.hasPosTagPart(tokens[v2pos], &quot;:inf&quot;)</b>
<b class="nc">&nbsp;          &amp;&amp; agrees(tokens[v2pos], state.nounAdjNazInflections, state.nounAdjIndirTokenReadings) </b>
&nbsp;          ) {
<b class="nc">&nbsp;        logException();</b>
<b class="nc">&nbsp;        return true;</b>
&nbsp;      }
&nbsp;    }
&nbsp;    
&nbsp;    
&nbsp;    // в мені наростали впевеність і ...
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 2</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[verbPos], Pattern.compile(&quot;verb.*:p(:.*)?&quot;))</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[nounAdjPos], &quot;:v_naz&quot;)</b>
&nbsp;        ) {
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    // змалював дивовижної краси церкву
<b class="nc">&nbsp;    if( nounAdjPos &lt; tokens.length - 2</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos], Pattern.compile(&quot;adj:.:v_rod(?!.*pron).*&quot;))</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos+1], Pattern.compile(&quot;noun:.*v_rod(?!.*pron).*&quot;))</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTag(tokens[nounAdjPos+2], Pattern.compile(&quot;(noun|adj)(?!.*pron).*&quot;)) ) {</b>
&nbsp;      
<b class="nc">&nbsp;      List&lt;AnalyzedToken&gt; readings = tokens[nounAdjPos+2].getReadings();</b>
<b class="nc">&nbsp;      List&lt;AnalyzedToken&gt; readingsVnaz = readings.stream().filter(r -&gt; PosTagHelper.hasPosTagPart(r, &quot;v_naz&quot;)).collect(Collectors.toList());</b>
<b class="nc">&nbsp;      List&lt;Inflection&gt; nounAdjNazInflectionsVnaz = VerbInflectionHelper.getNounInflections(readingsVnaz);</b>
<b class="nc">&nbsp;      nounAdjNazInflectionsVnaz.addAll(VerbInflectionHelper.getAdjInflections(readingsVnaz));</b>
&nbsp;
<b class="nc">&nbsp;      List&lt;AnalyzedToken&gt; readingsIndir = readings.stream().filter(r -&gt; ! PosTagHelper.hasPosTagPart(r, &quot;v_naz&quot;)).collect(Collectors.toList());</b>
&nbsp;//      List&lt;org.languagetool.rules.uk.InflectionHelper.Inflection&gt; nounAdjInflectionsIndir = InflectionHelper.getNounInflections(readingsIndir);
&nbsp;//      nounAdjInflectionsIndir.addAll(InflectionHelper.getAdjInflections(state.nounAdjIndirTokenReadings));
&nbsp;//      nounAdjInflectionsIndir.addAll(InflectionHelper.getNumrInflections(state.nounAdjIndirTokenReadings));
&nbsp;      
<b class="nc">&nbsp;      if( agrees(tokens[verbPos], nounAdjNazInflectionsVnaz, readingsIndir) ) {</b>
<b class="nc">&nbsp;        logException();</b>
<b class="nc">&nbsp;        return true;</b>
&nbsp;      }
&nbsp;    }
&nbsp;    
&nbsp;    // могли б займатися структури
&nbsp;    // має також народитися власна ідея
&nbsp;    // мали змогу оцінити відвідувачі
<b class="nc">&nbsp;    if( verbPos &gt; 2</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagPart(tokens[verbPos], &quot;:inf&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; PosTagHelper.hasPosTagStart(tokens[verbPos-2], &quot;verb&quot;)</b>
<b class="nc">&nbsp;        &amp;&amp; (LemmaHelper.hasLemma(tokens[verbPos-1], Arrays.asList(&quot;б&quot;,&quot;би&quot;))</b>
<b class="nc">&nbsp;            || PosTagHelper.hasPosTag(tokens[verbPos-1], Pattern.compile(&quot;adv(?!p).*&quot;))</b>
<b class="nc">&nbsp;                || LemmaHelper.hasLemma(tokens[verbPos-2], Arrays.asList(&quot;мати&quot;), &quot;verb&quot;))</b>
&nbsp;        // &amp;&amp; agree 
&nbsp;        ) {
&nbsp;      
<b class="nc">&nbsp;      logException();</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;    
<b class="nc">&nbsp;    return false;</b>
&nbsp;  }
&nbsp;
&nbsp;
&nbsp;  private static boolean agrees(AnalyzedTokenReadings verbTokenReadings, List&lt;Inflection&gt; nounAdjNazInflections, List&lt;AnalyzedToken&gt; nounAdjIndirTokenReadings) {
&nbsp;
<b class="nc">&nbsp;    if( nounAdjNazInflections != null &amp;&amp; nounAdjNazInflections.size() &gt; 0 ) {</b>
<b class="nc">&nbsp;      List&lt;VerbInflectionHelper.Inflection&gt; verbInflections = VerbInflectionHelper.getVerbInflections(verbTokenReadings.getReadings());</b>
<b class="nc">&nbsp;      if (! Collections.disjoint(verbInflections, nounAdjNazInflections))</b>
<b class="nc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    if( nounAdjIndirTokenReadings.size() &gt; 0 ) {</b>
<b class="nc">&nbsp;      Set&lt;String&gt; cases = CaseGovernmentHelper.getCaseGovernments(verbTokenReadings, PosTagHelper.VERB_ADVP_PATTERN);</b>
<b class="nc">&nbsp;      if( cases.size() &gt; 0 &amp;&amp; TokenAgreementPrepNounRule.hasVidmPosTag(cases, nounAdjIndirTokenReadings) )</b>
<b class="nc">&nbsp;        return true;</b>
&nbsp;    }
<b class="nc">&nbsp;    return false;</b>
&nbsp;  }
&nbsp;
&nbsp;  private static void logException() {
<b class="nc">&nbsp;    if( logger.isDebugEnabled() ) {</b>
<b class="nc">&nbsp;      StackTraceElement stackTraceElement = Thread.currentThread().getStackTrace()[2];</b>
<b class="nc">&nbsp;      logger.debug(&quot;exception: &quot; /*+ stackTraceElement.getFileName()*/ + stackTraceElement.getLineNumber());</b>
&nbsp;    }
&nbsp;  }
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-02-20 19:41</div>
</div>
</body>
</html>
